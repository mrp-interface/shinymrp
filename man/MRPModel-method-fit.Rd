% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model.R
\name{MRPModel-method-fit}
\alias{MRPModel-method-fit}
\alias{fit}
\title{Fit multilevel regression model using cmdstanr}
\usage{
fit(n_iter = 2000, n_chains = 4, seed = NULL, ...)
}
\arguments{
\item{n_iter}{Number of MCMC iterations per chain (including warmup iterations). Default is 2000.}

\item{n_chains}{Number of MCMC chains to run. Default is 4.}

\item{seed}{Random seed for reproducibility. Default is \code{NULL}.}

\item{...}{Additional arguments passed to CmdStanR \verb{$sample()} method}
}
\description{
The \verb{$fit()} method of a \code{MRPModel} object fits the model using Stan.
}
\examples{
\donttest{
 library(shinymrp)

 # Initialize workflow
 workflow <- mrp_workflow()

 # Load example data
 sample_data <- example_sample_data()

 # Preprocess sample data
 workflow$preprocess(
   sample_data,
   is_timevar = TRUE,
   is_aggregated = TRUE,
   special_case = NULL,
   family = "binomial"
 )

 # Link to ACS data at ZIP code level
 workflow$link_acs(
   link_geo = "zip",
   acs_year = 2021
 )

 # Create and fit multiple models
 model <- workflow$create_model(
   intercept_prior = "normal(0, 4)",
   fixed = list(
     sex = "normal(0, 2)"
   ),
   varying = list(
     race = "normal(0, 2)",
     age = "normal(0, 2)",
     time = "normal(0, 2)"
   )
 )

 # Run MCMC
 model$fit(n_iter = 500, n_chains = 2, seed = 123)
}

}
