% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_plot.R
\name{prep_raw}
\alias{prep_raw}
\title{Prepare Raw Data for Plotting}
\usage{
prep_raw(
  input_data,
  fips_codes,
  geo = c("county", "state"),
  summary_type = c("max", "min"),
  metadata = NULL
)
}
\arguments{
\item{input_data}{A data frame containing the raw data to be processed. 
Should contain geographic identifiers and outcome variables.}

\item{fips_codes}{A data frame containing FIPS codes and geographic names 
for joining with input data.}

\item{geo}{Character string specifying geographic level. One of "county" or "state".}

\item{summary_type}{Character string specifying summary statistic for time series data. 
One of "max" or "min".}

\item{metadata}{A list containing metadata about the data structure with elements:
\itemize{
  \item \code{is_timevar}: Logical indicating if data has time dimension
  \item \code{family}: Character specifying data family ("binomial" or "normal")
}}
}
\value{
A list containing:
  \itemize{
    \item \code{plot_df}: Processed data frame ready for plotting with columns for 
      fips, value, geographic names, and hover text
    \item \code{title}: List containing main_title and hover_title for the plot
  }
  Returns NULL if input_data is NULL.
}
\description{
This function processes input data for geographic visualization by computing 
summary statistics, joining with FIPS codes, and generating appropriate 
titles and hover text based on the data characteristics.
}
\details{
For binomial family data, the function computes rates as positive/total.
For normal family data, it computes means of the outcome variable.
When time dimension is present, it can summarize to maximum or minimum values
across time periods. Hover text is formatted differently for state vs county level data.
}
\examples{
\dontrun{
metadata <- list(is_timevar = TRUE, family = "binomial")
result <- prep_raw(my_data, fips_df, geo = "county", 
                   summary_type = "max", metadata = metadata)
}
}
