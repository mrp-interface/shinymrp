% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_model.R
\name{get_diagnostics}
\alias{get_diagnostics}
\title{Extract MCMC Diagnostics from Fit Object}
\usage{
get_diagnostics(fit, total_transitions, max_depth = 10)
}
\arguments{
\item{fit}{CmdStanR fit object from run_mcmc() containing MCMC samples.}

\item{total_transitions}{Integer. Total number of MCMC transitions across
all chains (typically n_iter/2 * n_chains for post-warmup samples).}

\item{max_depth}{Integer. Maximum tree depth limit used in sampling (default: 10).}
}
\value{
List containing:
  \item{summary}{Data frame with diagnostic metrics and formatted messages:
    \itemize{
      \item Divergence: Number and percentage of divergent transitions
      \item Maximum tree depth: Number of transitions hitting depth limit
      \item E-BFMI: Number of chains with low energy fraction
    }
  }
  \item{show_warnings}{Logical indicating whether any diagnostic issues were found}
}
\description{
Extracts and summarizes MCMC diagnostics including divergent
transitions, maximum tree depth hits, and energy Bayesian fraction of missing
information (E-BFMI). Provides formatted diagnostic messages for model assessment.
}
\details{
Diagnostic interpretation:
\itemize{
  \item Divergent transitions: Should be 0; indicates sampling problems
  \item Max tree depth: Should be low; indicates inefficient sampling
  \item E-BFMI < 0.3: Indicates potential energy problems in sampling
}
}
\examples{
\dontrun{
# Extract diagnostics
diagnostics <- get_diagnostics(
  fit = mcmc_result$fit,
  total_transitions = 2000,  # 500 samples * 4 chains
  max_depth = 10
)

# View diagnostic summary
print(diagnostics$summary)

# Check if warnings should be shown
if (diagnostics$show_warnings) {
  warning("MCMC diagnostics indicate potential sampling issues")
}
}
}
