---
title: "Getting Started with shinymrp"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with shinymrp}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  eval = FALSE
)
```

## Introduction

The **shinymrp** package provides a point-and-click interface for Multilevel Regression and Poststratification (MRP), making advanced statistical modeling accessible through an intuitive Shiny web application. MRP is a powerful technique for estimating population quantities from survey data by combining multilevel modeling with poststratification to correct for sampling biases and improve generalizability.


## Installation

You can install the development version of shinymrp from GitHub:

```{r install}
# Install from GitHub
if (!require(devtools)) install.packages("devtools")
devtools::install_github("mrp-interface/shinymrp")
```

## Quick Start

### Launching the Application

The easiest way to get started is to launch the Shiny application:

```{r launch}
library(shinymrp)

# Launch the interactive application
run_app()
```

This will open the shinymrp interface in your default web browser, providing access to all the package's functionality through an intuitive point-and-click interface.

### Live Demo

You can also explore the package capabilities through our live demo at: [https://mrp-interface.github.io/shinymrp/](https://mrp-interface.github.io/shinymrp/)

## Main Features

The shinymrp application provides four main analysis modules:

### 1. Upload Data
- **File Support**: Upload CSV, Excel (.xlsx/.xls), or SAS (.sas7bdat) files
- **Data Validation**: Automatic data cleaning and validation
- **Format Detection**: Intelligent detection of data structure and variable types
- **Preview**: Interactive data preview with summary statistics

### 2. Visualize Data
- **Individual Characteristics**: Explore demographic distributions (sex, race, age, education)
- **Geographic Patterns**: Visualize geographic coverage and sample sizes
- **Outcome Distributions**: Examine response variable patterns
- **Interactive Maps**: Geographic visualization of data coverage and outcomes

### 3. Fit Model
- **Model Specification**: Point-and-click model building interface
- **Bayesian Estimation**: Powered by Stan for robust statistical inference
- **Model Diagnostics**: Built-in convergence diagnostics and model checking
- **Multiple Models**: Compare different model specifications

### 4. View Results
- **Population Estimates**: MRP-adjusted population estimates with uncertainty
- **Interactive Visualizations**: Dynamic plots and maps of results
- **Model Comparison**: Side-by-side comparison of different models
- **Export Options**: Download results and visualizations

## Data Requirements

The package works with survey data containing:

**Required Variables:**
- **Outcome variable**: Binary (0/1) or continuous responses
- **Geographic identifiers**: ZIP codes, counties, or states
- **Demographic variables**: At minimum sex, race, and age

**Optional Variables:**
- **Education**: Educational attainment categories
- **Time variables**: For time-varying analyses (dates or week indices)

**Example Data Structure:**
```{r example-data}
# Load example data
library(shinymrp)

# Cross-sectional binary outcome data
data_path <- system.file("extdata/example/data/crosssectional_binomial_raw.csv", 
                        package = "shinymrp")
example_data <- read.csv(data_path)
head(example_data)
#>      sex  race age   zip county state positive
#> 1   Male White  30 97141  41057    OR        0
#> 2   Male White  32 97212  41051    OR        1
#> 3 Female White  23 97201  41051    OR        1
```

## Workflow Overview

A typical analysis workflow in shinymrp follows these steps:

1. **Data Upload**: Import your survey data file
2. **Data Exploration**: Use visualization tools to understand your data
3. **Model Specification**: Define your multilevel model structure
4. **Model Fitting**: Run Bayesian estimation using Stan
5. **Results Interpretation**: Examine MRP estimates and diagnostics
6. **Export**: Download results for further analysis or reporting

## Example Use Cases

The package supports several common MRP applications:

- **Election Polling**: Adjust poll results for population representativeness
- **Health Surveys**: Estimate disease prevalence from convenience samples  
- **Social Research**: Generalize findings from non-representative surveys
- **COVID-19 Studies**: Track infection rates over time and geography
- **Market Research**: Estimate consumer preferences across demographics

## Next Steps

- **Data Preparation**: Learn about data requirements and preprocessing in `vignette("data-preparation")`
- **MRP Methodology**: Understand the statistical foundations in `vignette("mrp-methodology")`
- **Live Demo**: Explore the interface at [https://mrp-interface.github.io/shinymrp/](https://mrp-interface.github.io/shinymrp/)

## Getting Help

- **GitHub Issues**: Report bugs or request features at [https://github.com/mrp-interface/shinymrp/issues](https://github.com/mrp-interface/shinymrp/issues)
- **Documentation**: Browse function documentation with `help(package = "shinymrp")`
- **Vignettes**: Explore additional vignettes for detailed guidance

The shinymrp package makes sophisticated MRP analysis accessible to researchers without extensive statistical programming experience, while still providing the flexibility and rigor needed for publication-quality research.